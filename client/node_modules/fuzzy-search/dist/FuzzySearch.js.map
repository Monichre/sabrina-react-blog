{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e6a231db1796f45abaa5","webpack:///./C:/wamp/www/websites/fuzzy-search/src/FuzzySearch.js","webpack:///./C:/wamp/www/websites/fuzzy-search/src/Helper.js"],"names":["module","exports","haystack","keys","options","length","Error","extend","caseSensitive","sort","query","results","i","item","score","FuzzySearch","isMatch","push","y","propertyValues","getDescendantProperty","found","z","a","b","map","result","toLocaleLowerCase","letters","split","indexes","index","letter","indexOf","Helper","target","objects","object","property","Object","prototype","hasOwnProperty","call","toString","path","list","firstSegment","remaining","dotIndex","value","slice"],"mappings":"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","file":"FuzzySearch.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"FuzzySearch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FuzzySearch\"] = factory();\n\telse\n\t\troot[\"FuzzySearch\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e6a231db1796f45abaa5","import Helper from './Helper';\n\nmodule.exports = class FuzzySearch {\n  constructor(haystack = [], keys = [], options = {}) {\n    if (haystack.length === 0) {\n      throw new Error('We need an array containing the search list');\n    }\n\n    this.haystack = haystack;\n    this.keys = keys;\n    this.options = Helper.extend({\n      caseSensitive: false,\n      sort: false,\n    }, options);\n  }\n\n  search(query = '') {\n    if (query === '') {\n      return this.haystack;\n    }\n\n    const results = [];\n\n    for (let i = 0; i < this.haystack.length; i++) {\n      const item = this.haystack[i];\n\n      if (this.keys.length === 0) {\n        const score = FuzzySearch.isMatch(item, query, this.options.caseSensitive);\n\n        if (score) {\n          results.push({ item, score });\n        }\n      } else {\n        for (let y = 0; y < this.keys.length; y++) {\n          const propertyValues = Helper.getDescendantProperty(item, this.keys[y]);\n\n          let found = false;\n\n          for (let z = 0; z < propertyValues.length; z++) {\n            const score = FuzzySearch.isMatch(propertyValues[z], query, this.options.caseSensitive);\n\n            if (score) {\n              found = true;\n\n              results.push({ item, score });\n\n              break;\n            }\n          }\n\n          if (found) {\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.options.sort) {\n      results.sort((a, b) => a.score - b.score);\n    }\n\n    return results.map(result => result.item);\n  }\n\n  static isMatch(item, query, caseSensitive) {\n    if (!caseSensitive) {\n      item = item.toLocaleLowerCase();\n      query = query.toLocaleLowerCase();\n    }\n\n    const letters = query.split('');\n    const indexes = [];\n\n    let index = 0;\n\n    for (let i = 0; i < letters.length; i++) {\n      const letter = letters[i];\n\n      index = item.indexOf(letter, index);\n\n      if (index === -1) {\n        return false;\n      }\n\n      indexes.push(index);\n\n      index++;\n    }\n\n    let score = 1;\n\n    for (let i = 0; i < indexes.length; i++) {\n      if (i !== indexes.length - 1) {\n        score += indexes[i + 1] - indexes[i];\n      }\n    }\n\n    return score;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./C:/wamp/www/websites/fuzzy-search/src/FuzzySearch.js","export default class Helper {\n  static extend(...objects) {\n    const target = {};\n\n    for (let i = 0; i < objects.length; i++) {\n      const object = objects[i];\n\n      for (const property in object) {\n        if (Object.prototype.hasOwnProperty.call(object, property)) {\n          if (Object.prototype.toString.call(object[property]) === '[object Object]') {\n            target[property] = Helper.extend(target[property], object[property]);\n          } else {\n            target[property] = object[property];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n\n  static getDescendantProperty(object, path, list = []) {\n    let firstSegment;\n    let remaining;\n    let dotIndex;\n    let value;\n    let index;\n    let length;\n\n    if (path) {\n      dotIndex = path.indexOf('.');\n\n      if (dotIndex === -1) {\n        firstSegment = path;\n      } else {\n        firstSegment = path.slice(0, dotIndex);\n        remaining = path.slice(dotIndex + 1);\n      }\n\n      value = object[firstSegment];\n      if (value !== null && typeof value !== 'undefined') {\n        if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n          list.push(value);\n        } else if (Object.prototype.toString.call(value) === '[object Array]') {\n          for (index = 0, length = value.length; index < length; index++) {\n            Helper.getDescendantProperty(value[index], remaining, list);\n          }\n        } else if (remaining) {\n          Helper.getDescendantProperty(value, remaining, list);\n        }\n      }\n    } else {\n      list.push(object);\n    }\n\n    return list;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./C:/wamp/www/websites/fuzzy-search/src/Helper.js"],"sourceRoot":""}